<br style="clear:both;height:1em;">
	<div id="leftcol">
		<div class="nav-logo">
			<a href="index.php"><img src="logo.png" style="margin-left:10px; width:155px"/></a>
		</div>
		<ul id="leftnav">
		<li class="partentry" >
		Getting Started
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="005-installation.php">Installation</a></div>
		<ul style="display: none;" id="subToc_005-installation.html">
		<li id="005-installation.html#InstallDistro.html" ><a href="005-installation.php#InstallDistro.php" >Install Pre-Configured Eclipse With Xtext</a></li>
		<li id="005-installation.html#InstallXtext.html" ><a href="005-installation.php#InstallXtext.php" >Install Xtext From Update Site</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="010-xtext-in-5-minutes.php">5 Minutes Tutorial</a></div>
		<ul style="display: none;" id="subToc_010-xtext-in-5-minutes.html">
		<li id="010-xtext-in-5-minutes.html#NewProject.html" ><a href="010-xtext-in-5-minutes.php#NewProject.php" >Creating A New Xtext Project</a></li>
		<li id="010-xtext-in-5-minutes.html#RunWorkflow.html" ><a href="010-xtext-in-5-minutes.php#RunWorkflow.php" >Generating The Language Infrastructure</a></li>
		<li id="010-xtext-in-5-minutes.html#TestingTheEditor.html" ><a href="010-xtext-in-5-minutes.php#TestingTheEditor.php" >Try The Editor</a></li>
		<li id="010-xtext-in-5-minutes.html#Conclusion.html" ><a href="010-xtext-in-5-minutes.php#Conclusion.php" >Conclusion</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="020-domainmodel-step-by-step.php">15 Minutes Tutorial</a></div>
		<ul style="display: none;" id="subToc_020-domainmodel-step-by-step.html">
		<li id="020-domainmodel-step-by-step.html#DomainmodelWalkThrough_4.html" ><a href="020-domainmodel-step-by-step.php#DomainmodelWalkThrough_4.php" >Create A New Xtext Project</a></li>
		<li id="020-domainmodel-step-by-step.html#DomainmodelWalkThrough_5.html" ><a href="020-domainmodel-step-by-step.php#DomainmodelWalkThrough_5.php" >Write Your Own Grammar</a></li>
		<li id="020-domainmodel-step-by-step.html#DomainmodelWalkThrough_6.html" ><a href="020-domainmodel-step-by-step.php#DomainmodelWalkThrough_6.php" >Generate Language Artifacts</a></li>
		<li id="020-domainmodel-step-by-step.html#DomainmodelWalkThrough_7.html" ><a href="020-domainmodel-step-by-step.php#DomainmodelWalkThrough_7.php" >Run the Generated IDE Plug-in</a></li>
		<li id="020-domainmodel-step-by-step.html#DomainmodelWalkThrough_8.html" ><a href="020-domainmodel-step-by-step.php#DomainmodelWalkThrough_8.php" >Second Iteration : Adding Packages and Imports</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="030-tutorial-next-steps.php">15 Minutes Tutorial - Extended</a></div>
		<ul style="display: none;" id="subToc_030-tutorial-next-steps.html">
		<li id="040-first-code-generator.html" ><a href="040-first-code-generator.php" >Writing a Code Generator With Xtend</a></li>
		<li id="060-unit-tests.html" ><a href="060-unit-tests.php" >Unit Testing the Language</a></li>
		<li id="050-validation.html" ><a href="050-validation.php" >Creating Custom Validation Rules</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="035-domainmodel-java.php">Five simple steps to your JVM language</a></div>
		<ul style="display: none;" id="subToc_035-domainmodel-java.html">
		<li id="035-domainmodel-java.html#JvmDomainmodel_7.html" ><a href="035-domainmodel-java.php#JvmDomainmodel_7.php" >Step One: Create A New Xtext Project</a></li>
		<li id="035-domainmodel-java.html#JvmDomainmodel_8.html" ><a href="035-domainmodel-java.php#JvmDomainmodel_8.php" >Step Two: Write the Grammar</a></li>
		<li id="035-domainmodel-java.html#JvmDomainmodel_9.html" ><a href="035-domainmodel-java.php#JvmDomainmodel_9.php" >Step Three: Generate Language Artifacts</a></li>
		<li id="035-domainmodel-java.html#JvmDomainmodel_10.html" ><a href="035-domainmodel-java.php#JvmDomainmodel_10.php" >Step Four: Define the Mapping to JVM Concepts</a></li>
		<li id="035-domainmodel-java.html#JvmDomainmodel_11.html" ><a href="035-domainmodel-java.php#JvmDomainmodel_11.php" >Step Five : Try the Editor!</a></li>
		</ul>
		</li>
		<li class="partentry" >
		Reference Documentation
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="000-introduction.php">Overview</a></div>
		<ul style="display: none;" id="subToc_000-introduction.html">
		<li id="000-introduction.html#Overview_1.html" ><a href="000-introduction.php#Overview_1.php" >What is Xtext?</a></li>
		<li id="000-introduction.html#Overview_2.html" ><a href="000-introduction.php#Overview_2.php" >How Does It Work?</a></li>
		<li id="000-introduction.html#Overview_3.html" ><a href="000-introduction.php#Overview_3.php" >Xtext is Highly Configurable</a></li>
		<li id="000-introduction.html#Overview_4.html" ><a href="000-introduction.php#Overview_4.php" >Who Uses Xtext?</a></li>
		<li id="000-introduction.html#Overview_5.html" ><a href="000-introduction.php#Overview_5.php" >Who is Behind Xtext?</a></li>
		<li id="000-introduction.html#DSL.html" ><a href="000-introduction.php#DSL.php" >What is a Domain-Specific Language</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="020-grammar-language.php">The Grammar Language</a></div>
		<ul style="display: none;" id="subToc_020-grammar-language.html">
		<li id="020-grammar-language.html#statemachine.html" ><a href="020-grammar-language.php#statemachine.php" >A First Example</a></li>
		<li id="020-grammar-language.html#syntax.html" ><a href="020-grammar-language.php#syntax.php" >The Syntax</a></li>
		<li id="020-grammar-language.html#metamodelInference.html" ><a href="020-grammar-language.php#metamodelInference.php" >Ecore Model Inference</a></li>
		<li id="020-grammar-language.html#grammarMixins.html" ><a href="020-grammar-language.php#grammarMixins.php" >Grammar Mixins</a></li>
		<li id="020-grammar-language.html#grammarLanguage_6.html" ><a href="020-grammar-language.php#grammarLanguage_6.php" >Common Terminals</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="030-generator.php">Configuration</a></div>
		<ul style="display: none;" id="subToc_030-generator.html">
		<li id="030-generator.html#generator.html" ><a href="030-generator.php#generator.php" >The Language Generator</a></li>
		<li id="040-dependency-injection.html" ><a href="040-dependency-injection.php" >Dependency Injection in Xtext with Google Guice</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="050-heading-runtime.php">Runtime Concepts</a></div>
		<ul style="display: none;" id="subToc_050-heading-runtime.html">
		<li id="050-heading-runtime.html#runtimeSetup.html" ><a href="050-heading-runtime.php#runtimeSetup.php" >Runtime Setup (ISetup)</a></li>
		<li id="050-heading-runtime.html#equinoxSetup.html" ><a href="050-heading-runtime.php#equinoxSetup.php" >Setup within Eclipse-Equinox (OSGi)</a></li>
		<li id="050-heading-runtime.html#runtime_concepts_4.html" ><a href="050-heading-runtime.php#runtime_concepts_4.php" >Logging</a></li>
		<li id="060-validation.html" ><a href="060-validation.php" >Validation</a></li>
		<li id="070-linking.html" ><a href="070-linking.php" >Linking</a></li>
		<li id="080-scoping.html" ><a href="080-scoping.php" >Scoping</a></li>
		<li id="090-valueconverter.html" ><a href="090-valueconverter.php" >Value Converter</a></li>
		<li id="100-serialization.html" ><a href="100-serialization.php" >Serialization</a></li>
		<li id="105-formatting.html" ><a href="105-formatting.php" >Formatting (Pretty Printing)</a></li>
		<li id="110-fragmentprovider.html" ><a href="110-fragmentprovider.php" >Fragment Provider (Referencing Xtext Models From Other EMF Artifacts)</a></li>
		<li id="115-encoding.html" ><a href="115-encoding.php" >Encoding in Xtext</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="120-heading-UI.php">IDE Concepts</a></div>
		<ul style="display: none;" id="subToc_120-heading-UI.html">
		<li id="140-labelprovider.html" ><a href="140-labelprovider.php" >Label Provider</a></li>
		<li id="150-contentassist.html" ><a href="150-contentassist.php" >Content Assist</a></li>
		<li id="155-quickfix.html" ><a href="155-quickfix.php" >Quick Fixes</a></li>
		<li id="160-templates.html" ><a href="160-templates.php" >Template Proposals</a></li>
		<li id="170-outline.html" ><a href="170-outline.php" >Outline View</a></li>
		<li id="180-hyperlinking.html" ><a href="180-hyperlinking.php" >Hyperlinking</a></li>
		<li id="195-highlighting.html" ><a href="195-highlighting.php" >Syntax Coloring</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="199-xtext-and-java.php">Xtext and Java</a></div>
		<ul style="display: none;" id="subToc_199-xtext-and-java.html">
		<li id="199-xtext-and-java.html#Xbase_3.html" ><a href="199-xtext-and-java.php#Xbase_3.php" >Plug-in Setup</a></li>
		<li id="199a-jvmtypes.html" ><a href="199a-jvmtypes.php" >Referring to Java Elements using JVM Types</a></li>
		<li id="199b-xbase-java-references.html" ><a href="199b-xbase-java-references.php" >Referring to Java Types Using Xbase</a></li>
		<li id="199c-xbase-inferred-type.html" ><a href="199c-xbase-inferred-type.php" >Inferring a JVM Model</a></li>
		<li id="199d-xbase-expressions.html" ><a href="199d-xbase-expressions.php" >Using Xbase Expressions</a></li>
		<li id="199e-xbase-language-reference.html" ><a href="199e-xbase-language-reference.php" >Xbase Language Reference</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="118-mwe-in-depth.php">MWE2</a></div>
		<ul style="display: none;" id="subToc_118-mwe-in-depth.html">
		<li id="118-mwe-in-depth.html#MWE2Exampe.html" ><a href="118-mwe-in-depth.php#MWE2Exampe.php" >Examples</a></li>
		<li id="118-mwe-in-depth.html#MWE2LanguageReference.html" ><a href="118-mwe-in-depth.php#MWE2LanguageReference.php" >Language Reference</a></li>
		<li id="118-mwe-in-depth.html#MWE2SyntaxReference.html" ><a href="118-mwe-in-depth.php#MWE2SyntaxReference.php" >Syntax Reference</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="210-emf-integration.php">Integration with EMF and Other EMF Editors</a></div>
		<ul style="display: none;" id="subToc_210-emf-integration.html">
		<li id="210-emf-integration.html#model_metamodel.html" ><a href="210-emf-integration.php#model_metamodel.php" >Model, Ecore Model, and Ecore</a></li>
		<li id="210-emf-integration.html#emf_codegen.html" ><a href="210-emf-integration.php#emf_codegen.php" >EMF Code Generation</a></li>
		<li id="210-emf-integration.html#xtext_resource.html" ><a href="210-emf-integration.php#xtext_resource.php" >XtextResource Implementation</a></li>
		<li id="210-emf-integration.html#gmf_integration.html" ><a href="210-emf-integration.php#gmf_integration.php" >Integration with GMF Editors</a></li>
		</ul>
		</li>
		<li class="partentry" >
		Appendix
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="213-migrating-from-1.0.php">Migrating from Xtext 1.0.x to 2.0</a></div>
		<ul style="display: none;" id="subToc_213-migrating-from-1.0.html">
		<li id="213-migrating-from-1.0.html#migrating_from_1_0_x_4.html" ><a href="213-migrating-from-1.0.php#migrating_from_1_0_x_4.php" >Take the Shortcut</a></li>
		<li id="213-migrating-from-1.0.html#migrating_from_1_0_x_5.html" ><a href="213-migrating-from-1.0.php#migrating_from_1_0_x_5.php" >Migrating Step By Step</a></li>
		<li id="213-migrating-from-1.0.html#migrating_from_1_0_x_6.html" ><a href="213-migrating-from-1.0.php#migrating_from_1_0_x_6.php" >Now go for then new features</a></li>
		</ul>
		</li>
		<li class="separator"><div class="separator">
		<img src="triangle.gif" style="height:12px; margin-right: 2px; "  /><img src="triangle-90.gif" style="display:none; margin-right: 2px" height="12px" />
		<a href="215-migrating-from-0.7.php">Migrating from Xtext 0.7.x to 1.0</a></div>
		<ul style="display: none;" id="subToc_215-migrating-from-0.7.html">
		<li id="215-migrating-from-0.7.html#migrating_from_0_7_2.html" ><a href="215-migrating-from-0.7.php#migrating_from_0_7_2.php" >Migrating Step By Step</a></li>
		</ul>
		</li>
		</ul>
	</div>
	<div id="midcolumn">
		<a name="MWE2" ></a>
		<h1>MWE2</h1>
				<div class="toc">
				  <ul>
				    <li><a href="118-mwe-in-depth.php#MWE2Exampe.php" >Examples</a></li>
				    <li><a href="118-mwe-in-depth.php#MWE2LanguageReference.php" >Language Reference</a></li>
				    <li><a href="118-mwe-in-depth.php#MWE2SyntaxReference.php" >Syntax Reference</a></li>
				  </ul>
				</div>
				
		<p>
		The Modeling Workflow Engine 2 (MWE2) is a rewritten backwards 
		compatible implementation of the Modeling Workflow Engine (MWE). It 
		is a declarative, externally configurable generator engine. Users 
		can describe arbitrary object compositions by means of a simple, 
		concise syntax that allows to declare object instances, attribute 
		values and references. One use case - that's where the name had its 
		origins - is the definition of workflows. Such a workflow consists 
		usually of a number of components that interact with each other. 
		There are components to read EMF resources, to perform 
		operations (transformations) on them and to write them back or to generate 
		any number of other artifacts out of the information. Workflows are 
		typically executed in a single JVM. However there are no constraints 
		the prevent implementors to provide components that spawn multiple 
		threads or new processes.
		</p>
		<a name="MWE2Exampe" ></a>
		<span style="float:left; border-top: 1px dotted #d4d4dd; margin-left: 0; margin-top: 5px;
			padding: 5px 0;
			padding-top: 5px;"></span><a style="float: right" href="#">Top</a>
			<br style="clear:both"></br>
			<h1>Examples</h1>
			<div class="toc">
			  <ul>
			    <li><a href="118-mwe-in-depth.php#MWE2HelloWorld.php" >The Simplest Workflow</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2SimpleTransformation.php" >A Simple Transformation</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2Stopwatch.php" >A Stop-Watch</a></li>
			  </ul>
			</div>
			<p>
			Let's start with a couple of examples to demonstrate some usage 
			scenarios for MWE2. The first example is a simple <span class="inlinecode">HelloWorld</span> 
			module that does nothing but print a message to standard out. The 
			second module is assembled of three components that read an Ecore 
			file, transform the contained classifier-names to upper-case and 
			serialize the resource back to a new file. The last example uses 
			the life-cycle methods of the <abbr title="org.eclipse.emf.mwe2.runtime.workflow.IWorkflowComponent" >IWorkflowComponent</abbr> 
			to print the execution time of the workflow.
			</p>
			<a name="MWE2HelloWorld" ></a>
			<h2>The Simplest Workflow</h2>
			<p>
			The arguably shortest MWE2 module may look like the following 
			snippet:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;HelloWorld&nbsp;<br/>
						<br/>
						SayHello&nbsp;{<br/>
						&nbsp;&nbsp;message&nbsp;=&nbsp;<span class="string">"Hello&nbsp;World!"</span><br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			It configures a very simple workflow component with a message 
			that should be printed to <span class="inlinecode">System.out</span> when the workflow is 
			executed. The module begins with a declaration of its name. It must 
			fulfill the Java conventions for fully qualified class-names. That's 
			why the module <span class="inlinecode">HelloWorld</span> has to be placed into the default 
			package of a Java source folder. The second element in the module is 
			the class-name <span class="inlinecode">SayHello</span> which introduces the root element of the 
			module. The interpreter will create an instance of the given 
			type and configure it as declared between the curly braces. E.g. the 
			assignment <span class="inlinecode">message&nbsp;=&nbsp;<span class="string">"Hello&nbsp;World!"</span></span> in the module will be 
			interpreted as an invocation of the <span class="inlinecode">setMessage(String)</span> on the 
			instantiated object. As one can easily imagine, the implementation 
			of the class <span class="inlinecode">SayHello</span> looks straight forward:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">import</span>&nbsp;org.eclipse.emf.mwe2.runtime.workflow.IWorkflowComponent;<br/>
						<span class="keyword">import</span>&nbsp;org.eclipse.emf.mwe2.runtime.workflow.IWorkflowContext;<br/>
						<br/>
						<span class="keyword">public</span>&nbsp;<span class="keyword">class</span>&nbsp;SayHello&nbsp;<span class="keyword">implements</span>&nbsp;IWorkflowComponent&nbsp;{<br/>
						<br/>
						&nbsp;&nbsp;<span class="keyword">private</span>&nbsp;String&nbsp;message&nbsp;=&nbsp;<span class="string">"Hello&nbsp;World!"</span>;<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;setMessage(String&nbsp;message)&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span>.message&nbsp;=&nbsp;message;<br/>
						&nbsp;&nbsp;}<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;String&nbsp;getMessage()&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span>&nbsp;message;<br/>
						&nbsp;&nbsp;}<br/>
						<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;invoke(IWorkflowContext&nbsp;ctx)&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(getMessage());<br/>
						&nbsp;&nbsp;}<br/>
						<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;postInvoke()&nbsp;{}<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;preInvoke()&nbsp;{}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			It looks like a simple POJO and that's the philosophy behind MWE2. 
			It is easily possible to assemble completely independent objects in 
			a declarative manner. To make the workflow executable with the 
			<abbr title="org.eclipse.emf.mwe2.launch.runtime.Mwe2Runner" >Mwe2Runner</abbr>, the component 
			<span class="inlinecode">SayHello</span> must be nested in a root 
			workflow:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;HelloWorld&nbsp;<br/>
						<br/>
						Workflow&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;component&nbsp;=&nbsp;SayHello&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;=&nbsp;<span class="string">"Hello&nbsp;World!"</span><br/>
						&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			The package <span class="inlinecode">org.eclipse.emf.mwe2.runtime.workflow</span> of the class <abbr title="org.eclipse.emf.mwe2.runtime.workflow.Workflow" >Workflow</abbr> 
			is implicitly imported in MWE2 modules to make the the modules more 
			concise. The execution result of this workflow will be revealed 
			after a quick <em>Run As .. -&gt; MWE2 Workflow</em> in the console as 
			</p>
			<p>
			<span class="inlinecode">Hello&nbsp;World!</span>
			</p>
			<a name="MWE2SimpleTransformation" ></a>
			<h2>A Simple Transformation</h2>
			<p>
			The following workflow solves the exemplary task to rename every 
			<a class="jdoc" href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClassifier.html" title="org.eclipse.emf.ecore.EClassifier">EClassifier</abbr></a> in an <em>*.ecore</em> file.
			It consists of three components that read, modify and write the model file:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;Renamer<br/>
						Workflow&nbsp;{<br/>
						&nbsp;&nbsp;component&nbsp;=&nbsp;ResourceReader&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uri&nbsp;=&nbsp;<span class="string">"model.ecore"</span><br/>
						&nbsp;&nbsp;}<br/>
						&nbsp;&nbsp;component&nbsp;=&nbsp;RenamingTransformer&nbsp;{}<br/>
						&nbsp;&nbsp;component&nbsp;=&nbsp;ResourceWriter&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uri&nbsp;=&nbsp;<span class="string">"uppercaseModel.ecore"</span><br/>
						&nbsp;&nbsp;}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			The implementation of these components is surprisingly simple. It is easily possible to create
			own components even for minor operations to automate a process.
			</p>
			<p>
			The <span class="inlinecode">ResourceReader</span> simply reads the file with the given 
			<a class="jdoc" href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html" title="org.eclipse.emf.common.util.URI">URI</abbr></a> and stores it in a so called
			<em>slot</em> of the workflow context. A slot can be understood as a dictionary or map-entry.
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">public</span>&nbsp;<span class="keyword">class</span>&nbsp;ResourceReader&nbsp;<span class="keyword">extends</span>&nbsp;WorkflowComponentWithSlot&nbsp;{<br/>
						&nbsp;&nbsp;<span class="keyword">private</span>&nbsp;String&nbsp;uri;<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;invoke(IWorkflowContext&nbsp;ctx)&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;ResourceSet&nbsp;resourceSet&nbsp;=&nbsp;<span class="keyword">new</span>&nbsp;ResourceSetImpl();<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;URI&nbsp;fileURI&nbsp;=&nbsp;URI.createFileURI(uri);&nbsp;<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;Resource&nbsp;resource&nbsp;=&nbsp;resourceSet.getResource(fileURI,&nbsp;<span class="keyword">true</span>);<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;ctx.put(getSlot(),&nbsp;resource);<br/>
						&nbsp;&nbsp;}<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;setUri(String&nbsp;uri)&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span>.uri&nbsp;=&nbsp;uri;<br/>
						&nbsp;&nbsp;}<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;String&nbsp;getUri()&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span>&nbsp;uri;<br/>
						&nbsp;&nbsp;}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			The actual transformer takes the model from the slot and modifies it. It simply iterates the content
			of the resource, identifies each <a class="jdoc" href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/EClassifier.html" title="org.eclipse.emf.ecore.EClassifier">EClassifier</abbr></a> and sets its name. 
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">public</span>&nbsp;<span class="keyword">class</span>&nbsp;RenamingTransformer&nbsp;<span class="keyword">extends</span>&nbsp;WorkflowComponentWithSlot&nbsp;{<br/>
						&nbsp;&nbsp;<span class="keyword">private</span>&nbsp;<span class="keyword">boolean</span>&nbsp;toLowerCase&nbsp;=&nbsp;<span class="keyword">false</span>;<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;invoke(IWorkflowContext&nbsp;ctx)&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;Resource&nbsp;resource&nbsp;=&nbsp;(Resource)&nbsp;ctx.get(getSlot());<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;EcoreUtil.resolveAll(resource);<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;Iterator&lt;Object&gt;&nbsp;contents&nbsp;=&nbsp;EcoreUtil.getAllContents(resource,&nbsp;<span class="keyword">true</span>);<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;Iterator&lt;EClassifier&gt;&nbsp;iter&nbsp;=&nbsp;<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterators.filter(contents,&nbsp;EClassifier.<span class="keyword">class</span>);<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">while</span>(iter.hasNext())&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EClassifier&nbsp;classifier&nbsp;=&nbsp;(EClassifier)&nbsp;iter.next();<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classifier.setName(isToLowerCase()&nbsp;<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?&nbsp;classifier.getName().toLowerCase()<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;classifier.getName().toUpperCase());<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
						&nbsp;&nbsp;}<br/>
						<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;setToLowerCase(<span class="keyword">boolean</span>&nbsp;toLowerCase)&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span>.toLowerCase&nbsp;=&nbsp;toLowerCase;<br/>
						&nbsp;&nbsp;}<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">boolean</span>&nbsp;isToLowerCase()&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span>&nbsp;toLowerCase;<br/>
						&nbsp;&nbsp;}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			After the model has been modified it should be written to a new file. That's what the 
			<span class="inlinecode">ResourceWriter</span> does. It actually takes the resource from the given <em>slot</em> and saves it with
			the configured <a class="jdoc" href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/common/util/URI.html" title="org.eclipse.emf.common.util.URI">URI</abbr></a>:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">public</span>&nbsp;<span class="keyword">class</span>&nbsp;ResourceWriter&nbsp;<span class="keyword">extends</span>&nbsp;WorkflowComponentWithSlot&nbsp;{<br/>
						&nbsp;&nbsp;<span class="keyword">private</span>&nbsp;String&nbsp;uri;<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;invoke(IWorkflowContext&nbsp;ctx)&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;Resource&nbsp;resource&nbsp;=&nbsp;(Resource)&nbsp;ctx.get(getSlot());<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;URI&nbsp;uri&nbsp;=&nbsp;URI.createFileURI(getUri());<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;uri&nbsp;=&nbsp;resource.getResourceSet().getURIConverter().normalize(uri);<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;resource.setURI(uri);<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span>&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resource.save(<span class="keyword">null</span>);<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">catch</span>&nbsp;(IOException&nbsp;e)&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">throw</span>&nbsp;<span class="keyword">new</span>&nbsp;WrappedException(e);<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
						&nbsp;&nbsp;}<br/>
						<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;setUri(String&nbsp;uri)&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span>.uri&nbsp;=&nbsp;uri;<br/>
						&nbsp;&nbsp;}<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;String&nbsp;getUri()&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span>&nbsp;uri;<br/>
						&nbsp;&nbsp;}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			Last but not least, the common supertype for those components looks like this:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">public</span>&nbsp;<span class="keyword">abstract</span>&nbsp;<span class="keyword">class</span>&nbsp;WorkflowComponentWithSlot&nbsp;<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">implements</span>&nbsp;IWorkflowComponent&nbsp;{<br/>
						&nbsp;&nbsp;<span class="keyword">private</span>&nbsp;String&nbsp;slot&nbsp;=&nbsp;<span class="string">"model"</span>;<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;setSlot(String&nbsp;slot)&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span>.slot&nbsp;=&nbsp;slot;<br/>
						&nbsp;&nbsp;}<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;String&nbsp;getSlot()&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span>&nbsp;slot;<br/>
						&nbsp;&nbsp;}<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;postInvoke()&nbsp;{}<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;preInvoke()&nbsp;{}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			Each of the mentioned implementations is rather simple and can be done in a couple of minutes. 
			Many tedious tasks that developers face in their daily work can be addressed by a chain of rather
			simple components. MWE2 can be used to automate these tasks with minimum effort.
			</p>
			<a name="MWE2Stopwatch" ></a>
			<h2>A Stop-Watch</h2>
			<p>
			The last example demonstrates how to combine the MWE2 concepts to create a simple stop-watch that
			allows to measure the execution time of a set of components. The idea is to add the very same stop-watch
			twice as a component to a workflow. It will measure the time from the first pre-invoke to the last
			post-invoke event and print the elapsed milliseconds to the console.
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">public</span>&nbsp;<span class="keyword">class</span>&nbsp;StopWatch&nbsp;<span class="keyword">implements</span>&nbsp;IWorkflowComponent&nbsp;{<br/>
						&nbsp;&nbsp;<span class="keyword">private</span>&nbsp;<span class="keyword">long</span>&nbsp;start;<br/>
						&nbsp;&nbsp;<span class="keyword">private</span>&nbsp;<span class="keyword">boolean</span>&nbsp;shouldStop&nbsp;=&nbsp;<span class="keyword">false</span>;<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;invoke(IWorkflowContext&nbsp;ctx)&nbsp;{}<br/>
						<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;postInvoke()&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span>&nbsp;(shouldStop)&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">long</span>&nbsp;elapsed&nbsp;=&nbsp;System.currentTimeMillis()&nbsp;-&nbsp;start;<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string">"Time&nbsp;elapsed:&nbsp;"</span>&nbsp;+&nbsp;elapsed&nbsp;+&nbsp;<span class="string">"&nbsp;ms"</span>);<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;shouldStop&nbsp;=&nbsp;<span class="keyword">true</span>;<br/>
						&nbsp;&nbsp;}<br/>
						<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;preInvoke()&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;start&nbsp;=&nbsp;System.currentTimeMillis();<br/>
						&nbsp;&nbsp;}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			Clients who want to leverage this kind of stop-watch may use the following pattern. The instance of the
			class <span class="inlinecode">StopWatch</span> has to be added as the first component and the last component to a workflow. 
			Every component in-between will be measured. In this case, it is another workflow that does not need know 
			about this decoration. The idea is to use a local identifier for the instantiated <span class="inlinecode">StopWatch</span> 
			and reuse this one at the end to receive the post-invoke life-cycle event twice. 
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;MeasuredWorkflow<br/>
						<br/>
						Workflow&nbsp;{<br/>
						&nbsp;&nbsp;component&nbsp;=&nbsp;StopWatch:&nbsp;stopWatch&nbsp;{}<br/>
						&nbsp;&nbsp;component&nbsp;=&nbsp;@OtherWorkflow&nbsp;{}<br/>
						&nbsp;&nbsp;component&nbsp;=&nbsp;stopWatch<br/>
						}
					</p>
				</div>
			</div>
			</p>
		<a name="MWE2LanguageReference" ></a>
		<span style="float:left; border-top: 1px dotted #d4d4dd; margin-left: 0; margin-top: 5px;
			padding: 5px 0;
			padding-top: 5px;"></span><a style="float: right" href="#">Top</a>
			<br style="clear:both"></br>
			<h1>Language Reference</h1>
			<div class="toc">
			  <ul>
			    <li><a href="118-mwe-in-depth.php#MWE2JavaReferences.php" >Mapping to Java Classes</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2Module.php" >Module</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2Properties.php" >Properties</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2Mandatory.php" >Mandatory Properties</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2NamedComponents.php" >Named Components</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2AutoInject.php" >Auto Injection</a></li>
			  </ul>
			</div>
			<p>
			MWE2 has a few well defined concepts which can be combined to 
			assemble arbitrary object graphs in a compact and declarative 
			manner.
			</p>
			<p>
			<ul>
			  <li>A MWE2 file defines a <span class="inlinecode"><span class="keyword">module</span></span> which exposes its root <span class="inlinecode">component</span> as reusable artifact.</li>
			  <li><span class="inlinecode">Properties</span> can be used to extract reusable, configurable parts of the workflow.</li>
			  <li>Components are mapped to plain vanilla <em>Java objects</em>. Arbitrary <span class="inlinecode">setABC(..)</span> and <span class="inlinecode">addXYZ(..)</span> methods 
			  		are used to configure them.</li>
			</ul>
			</p>
			<p>
			Let's consider the follow short example module and <span class="inlinecode">SampleClass</span> to 
			explain these concepts.
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;com.mycompany.Example<br/>
						<br/>
						<span class="keyword">import</span>&nbsp;java.util.*<br/>
						<br/>
						SampleClass&nbsp;{<br/>
						&nbsp;&nbsp;singleValue&nbsp;=&nbsp;<span class="string">&apos;a&nbsp;string&apos;</span><br/>
						&nbsp;&nbsp;multiValue&nbsp;=&nbsp;ArrayList&nbsp;{}<br/>
						&nbsp;&nbsp;child&nbsp;=&nbsp;{}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">package</span>&nbsp;com.mycompany;<br/>
						<br/>
						<span class="keyword">import</span>&nbsp;java.util.List;<br/>
						<br/>
						<span class="keyword">public</span>&nbsp;<span class="keyword">class</span>&nbsp;SampleClass&nbsp;{<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;setSingleValue(String&nbsp;value)&nbsp;{..}<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;addMultiValue(List&lt;?&gt;&nbsp;value)&nbsp;{..}<br/>
						&nbsp;&nbsp;<span class="keyword">public</span>&nbsp;<span class="keyword">void</span>&nbsp;addChild(SampleClass&nbsp;value)&nbsp;{..}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<a name="MWE2JavaReferences" ></a>
			<h2>Mapping to Java Classes</h2>
			<p>
			The module <span class="inlinecode">com.mycompany.Example</span> defines a root component of 
			type <span class="inlinecode">com.mycompany.SampleClass</span>. It is possible to use the simple 
			class-name because MWE2 uses the very same visibility rules as the 
			Java compiler. Classes that are in the same package as the module 
			can be referenced by their simple name. The same rule applies for 
			classes from the <span class="inlinecode">java.lang</span> package. For convenience reasons is the 
			package <span class="inlinecode">org.eclipse.emf.mwe2.runtime.workflow</span> implicitly imported 
			as well as it exposes some library workflow components. However, the
			imports are more flexible then in Java since MWE2-imports can be relative, e.g. 
			the <span class="inlinecode"><span class="keyword">import</span>&nbsp;java.*</span> resolves the reference <span class="inlinecode">util.ArrayList</span> to 
			<span class="inlinecode">java.util.ArrayList</span>.  
			</p>
			<p>
			The root instance of type <span class="inlinecode">SampleClass</span> has to be configured 
			after it has been created. Therefore the method <span class="inlinecode">setSingleValue</span> 
			will be called at first. The given parameter is 
			<span class="inlinecode"><span class="string">&apos;a&nbsp;string&apos;</span></span>. The method is identified by its name which starts with 
			<span class="inlinecode">set</span>. To allow to assign multi-value properties, MWE provides 
			access to methods called <span class="inlinecode">add*</span> as well. 
			</p>
			<p>
			If the right side of the assignment in the workflow file does not 
			define a class explicitly, its type is inferred from the method 
			parameter. The line <span class="inlinecode">child&nbsp;=&nbsp;{}</span> is equivalent to 
			<span class="inlinecode">child&nbsp;=&nbsp;SampleClass&nbsp;{}</span> and creates a new instance of <span class="inlinecode">SampleClass</span>.
			</p>
			<p>
			MWE2 ships with nice tool support. The editor will provide 
			content assist for the allowed types and highlight incompatible 
			assignments. The available properties for Java classes will be 
			proposed as well.
			</p>
			<a name="MWE2Module" ></a>
			<h2>Module</h2>
			<p>
			As MWE2 modules have a fully qualified name, it is possible to refer
			to them from other modules. The type of the module is derived from
			the type of its root component. The <span class="inlinecode">com.mycompany.Example</span> can be
			assigned at any place where a <span class="inlinecode">com.mycompany.SampleClass</span> is expected.
			</p>
			<p>
			Let's create a second module <span class="inlinecode">com.mycompany.Second</span> like this:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;com.mycompany.sub.Second<br/>
						<br/>
						<span class="keyword">import</span>&nbsp;com.mycompany.*<br/>
						<br/>
						SampleClass&nbsp;{<br/>
						&nbsp;&nbsp;child&nbsp;=&nbsp;@Example&nbsp;{}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			The <span class="inlinecode">child</span> value will be assigned to an instance of <span class="inlinecode">SampleClass</span> 
			that is configured as in the first example workflow. This enables
			nice composition and a very focused, reusable component design. 
			</p>
			<p>
			As the same rules apply in MWE2 like in Java, the module 
			<span class="inlinecode">com.mycompany.sub.Second</span> has to be defined in a file called 
			<em>Second.mwe2</em> in the package <span class="inlinecode">com.mycompany.sub</span>. The import semantic
			for other modules is the same as for classes. The import statement
			allows to refer to <span class="inlinecode">com.mycompany.Example</span> with a shortened name.
			</p>
			<a name="MWE2Properties" ></a>
			<h2>Properties</h2>
			<p>
			MWE2 allows to extract arbitrary information into properties to 
			ensure that these pieces are not cluttered around the workflow and 
			to allow for easier external customization. The exemplary component 
			definition was only changed slightly by introducing a property 
			<span class="inlinecode">value</span>.
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;com.mycompany.Example<br/>
						<br/>
						<span class="keyword">var</span>&nbsp;value&nbsp;=&nbsp;<span class="string">&apos;a&nbsp;string&apos;</span><br/>
						<br/>
						SampleClass&nbsp;{<br/>
						&nbsp;&nbsp;singleValue&nbsp;=&nbsp;value<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			The type of the property will be derived from the default value 
			similar to the mechanism that is already known from <span class="inlinecode">set</span>- and 
			<span class="inlinecode">add</span>-methods. If no default value is given, <a class="jdoc" href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html" title="java.lang.String">String</abbr></a> will
			be assumed. However, properties are not limited to strings. The 
			second built in type is boolean via the familiar literals <span class="inlinecode"><span class="keyword">true</span></span> and
			<span class="inlinecode"><span class="keyword">false</span></span>. More flexibility is available via actual component literals.
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;com.mycompany.Example<br/>
						<br/>
						<span class="keyword">var</span>&nbsp;childInstance&nbsp;=&nbsp;SampleClass&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;singleValue&nbsp;=&nbsp;<span class="string">"child"</span><br/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
						<br/>
						SampleClass&nbsp;{<br/>
						&nbsp;&nbsp;child&nbsp;=&nbsp;childInstance<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			If one wants to define string properties that are actual reusable
			parts for other properties, she may use defined variables inside other
			literals like this: 
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">var</span>&nbsp;aString&nbsp;=&nbsp;<span class="string">"part"</span><br/>
						<span class="keyword">var</span>&nbsp;anotherString&nbsp;=&nbsp;<span class="string">"reuse&nbsp;the&nbsp;${part}&nbsp;here"</span>
					</p>
				</div>
			</div>
			</p>
			<p>
			This is especially useful for file paths in workflows as one would
			usually want to define some common root directories only once in the
			workflow and reuse this fragment across certain other file locations.
			</p>
			<a name="MWE2Mandatory" ></a>
			<h2>Mandatory Properties</h2>
			<p>
			It is not always feasible to define default values for properties. 
			That is where mandatory properties come into play. Modules define their
			interface not only via their fully qualified name and the type of the
			root component but also by means of the defined properties.    
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;com.mycompany.Example<br/>
						<br/>
						<span class="keyword">var</span>&nbsp;optional&nbsp;=&nbsp;<span class="string">&apos;a&nbsp;string&apos;</span><br/>
						<span class="keyword">var</span>&nbsp;mandatory<br/>
						<br/>
						SampleClass&nbsp;{<br/>
						&nbsp;&nbsp;singleValue&nbsp;=&nbsp;optional<br/>
						&nbsp;&nbsp;child&nbsp;=&nbsp;{<br/>
						&nbsp;&nbsp;&nbsp;&nbsp;singleValue&nbsp;=&nbsp;mandatory<br/>
						&nbsp;&nbsp;}<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			This version of the example module exposes two externally assignable
			properties. The second one has no default value assigned and is 
			thereby considered to be mandatory. The mandatory value must be assigned
			if we reuse <span class="inlinecode">org.mycompany.Example</span> in another module like this:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;com.mycompany.Second<br/>
						<br/>
						<span class="keyword">var</span>&nbsp;newMandatory<br/>
						<br/>
						@Example&nbsp;{<br/>
						&nbsp;&nbsp;mandatory&nbsp;=&nbsp;<span class="string">"mandatoryValue"</span><br/>
						&nbsp;&nbsp;optional&nbsp;=&nbsp;newMandatory<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			Note that it is even possible to reuse another module as the root
			component of a new module. In this case we set the mandatory 
			property of <span class="inlinecode">Example</span> to a specific constant value while the previously
			optional value is now redefined as mandatory by means of a new property
			without a default value.
			</p>
			<p>
			It is not only possible to define mandatory properties for MWE2 
			modules but for classes as well. Therefore MWE2 ships with the 
			<abbr title="org.eclipse.emf.mwe2.runtime.Mandatory" >@Mandatory</abbr> annotation. If a <span class="inlinecode">set</span>- or <span class="inlinecode">add</span>-method is marked as
			<abbr title="org.eclipse.emf.mwe2.runtime.Mandatory" >@Mandatory</abbr>, the module validation will fail if no value was assigned
			to that feature.
			</p>
			<a name="MWE2NamedComponents" ></a>
			<h2>Named Components</h2>
			<p>
			Properties are not the only way to define something that can be reused.
			It is possible to assign a name to any instantiated component whether it's
			created from a class literal or from another component. This allows
			to refer to previously created and configured instances. Named instances
			can come handy for notification and call-back mechanisms or more general
			in terms of defined life-cycle events. 
			</p>
			<p>
			If we wanted to assign the created instance to a property of itself,
			we could use the following syntax:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;com.mycompany.Example<br/>
						<br/>
						SampleClass&nbsp;:&nbsp;self&nbsp;{<br/>
						&nbsp;&nbsp;child&nbsp;=&nbsp;self<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			A named component can be referenced immediately after its creation but
			it is not possible to use forward references in a MWE2 file.
			</p>
			<a name="MWE2AutoInject" ></a>
			<h2>Auto Injection</h2>
			<p>
			Existing modules or classes often expose a set of properties that 
			will be assigned to features of its root component or set- and add- 
			methods respectively. In many cases its quite hard to come up with 
			yet another name for the very same concept which leads to the situation
			where the properties itself have the very same name as the component's
			feature. To avoid the overall repetition of assignments, MWE2 offers
			the possibility to use the <span class="inlinecode"><span class="keyword">auto-inject</span></span> modifier on the component 
			literal:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">module</span>&nbsp;com.mycompany.Example<br/>
						<br/>
						<span class="keyword">var</span>&nbsp;child&nbsp;=&nbsp;SampleClass&nbsp;{}<br/>
						<br/>
						SampleClass&nbsp;<span class="keyword">auto-inject</span>&nbsp;{<br/>
						}
					</p>
				</div>
			</div>
			</p>
			<p>
			This example will implicitly assign the value of the property
			<span class="inlinecode">child</span> to the feature <span class="inlinecode">child</span> of the root component. This is especially
			useful for highly configurable workflows that expose dozens of optional
			parameters each of which can be assigned to one or more components.
			</p>
			<p>
			The <span class="inlinecode"><span class="keyword">auto-inject</span></span> modifier can be used for a subset of the available
			features as well. It will suppressed for the explicitly set values
			of a component.        
			</p>
		<a name="MWE2SyntaxReference" ></a>
		<span style="float:left; border-top: 1px dotted #d4d4dd; margin-left: 0; margin-top: 5px;
			padding: 5px 0;
			padding-top: 5px;"></span><a style="float: right" href="#">Top</a>
			<br style="clear:both"></br>
			<h1>Syntax Reference</h1>
			<div class="toc">
			  <ul>
			    <li><a href="118-mwe-in-depth.php#MWE2ModuleSyntax.php" >Module</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2PropertySyntax.php" >Property</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2ComponentSyntax.php" >Component</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2StringLiteralsSyntax.php" >String Literals</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2BooleanLiterals.php" >Boolean Literals</a></li>
			    <li><a href="118-mwe-in-depth.php#MWE2References.php" >References</a></li>
			  </ul>
			</div>
			<p>
			The following chapter serves as a reference for the concrete syntax of 
			MWE2. The building blocks of a module will be described in a few words.
			</p>
			<p>
			MWE2 is not sensitive to white space and allows to define line-comments
			and block comments everywhere. The syntax is the same as one is used 
			to from the Java language:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="comment">//&nbsp;This&nbsp;is&nbsp;a&nbsp;comment<br/>
						</span><span class="comment">/*&nbsp;<br/>
						&nbsp;&nbsp;This&nbsp;is&nbsp;another&nbsp;one.<br/>
						*/</span>
					</p>
				</div>
			</div>
			</p>
			<p>
			Every name in MWE2 can be a fully qualified identifier and must follow 
			the Java conventions. However, in contrast to Java identifiers it is 
			not allowed to use German umlauts or Unicode escape sequences in 
			identifiers. A valid ID-segment in MWE2 starts with a letter or an 
			underscore and is followed by any number of letters, numbers or underscores.
			An identifier is composed from one or more segments which are delimited
			by a '.' dot.
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						Name:&nbsp;ID&nbsp;(<span class="string">&apos;.&apos;</span>&nbsp;ID)*;<br/>
						ID:&nbsp;(<span class="string">&apos;a&apos;</span>..<span class="string">&apos;z&apos;</span>|<span class="string">&apos;A&apos;</span>..<span class="string">&apos;Z&apos;</span>|<span class="string">&apos;_&apos;</span>)&nbsp;(<span class="string">&apos;a&apos;</span>..<span class="string">&apos;z&apos;</span>|<span class="string">&apos;A&apos;</span>..<span class="string">&apos;Z&apos;</span>|<span class="string">&apos;_&apos;</span>|<span class="string">&apos;0&apos;</span>..<span class="string">&apos;9&apos;</span>)*;
					</p>
				</div>
			</div>
			</p>
			<p>
			MWE2 does not use a semicolon as a statement delimiter at any place.
			</p>
			<a name="MWE2ModuleSyntax" ></a>
			<h2>Module</h2>
			<p>
			<div class="image" >
			<a class="gallery" rel="prettyPhoto[all]" title=" " href="images/mwe2/module.png">
				<img src="images/mwe2/module.png" 
					width="600px"
				/>
			</a>
			<div class="caption">
			</div>
			</div>
			</p>
			<p>
			A <span class="inlinecode"><span class="keyword">module</span></span> consists of four parts. The very first statement in a 
			<em>*.mwe2</em> file is the module declaration. The name of the module must 
			follow the naming convention for Java classes. That MWE2 file's name 
			must therefore be the same as the last segment of the module-name 
			and it has to be placed in the appropriate package of a Java source 
			path.
			</p>
			<p>
			It is allowed to define any number of import statements in a module.
			Imports are either suffixed by a wildcard or they import a concrete class 
			or module. MWE2 can handle relative imports in case one uses the 
			wildcard notation:
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="string">&apos;import&apos;</span>&nbsp;name&nbsp;<span class="string">&apos;.*&apos;</span>?
					</p>
				</div>
			</div>
			</p>
			<a name="MWE2PropertySyntax" ></a>
			<h2>Property</h2>
			<p>
			The list of declared properties follows the optional import section.
			It is allowed to define modules without any properties. 
			</p>
			<p>
			<div class="image" >
			<a class="gallery" rel="prettyPhoto[all]" title=" " href="images/mwe2/property.png">
				<img src="images/mwe2/property.png" 
					width="600px"
				/>
			</a>
			<div class="caption">
			</div>
			</div>
			</p>
			<p>
			Each declared property is locally visible in the module. It 
			furthermore defines an assignable feature of the module in case one 
			refers to it from another module. Properties may either have a 
			default value or they are considered to be <em>mandatory</em>. If the type
			of property is omitted it will be inferred from the default value. The
			default type of a property is <a class="jdoc" href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html" title="java.lang.String">String</abbr></a>. That is, if no
			 default value is available, the property is <em>mandatory</em> and of type <a class="jdoc" href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html" title="java.lang.String">String</abbr></a>.
			</p>
			<p>
			There are four types of values available in MWE2. One may either
			define a string, boolean or component literal or a reference to a
			previously defined property. 
			</p>
			<a name="MWE2ComponentSyntax" ></a>
			<h2>Component</h2>
			<p>
			The building block of a module is the root component. It defines the externally
			visible type of the module and may either be created from a Java 
			type or from another module.
			</p>
			<p>
			<div class="image" >
			<a class="gallery" rel="prettyPhoto[all]" title=" " href="images/mwe2/component.png">
				<img src="images/mwe2/component.png" 
					width="600px"
				/>
			</a>
			<div class="caption">
			</div>
			</div>
			</p>
			<p>
			The type of the component can be derived in many cases except for 
			the root component. That's why it's optional in the component literal.
			If no type is given, it will be inferred from the left side of the
			assignment. The assigned feature can either be a declared property
			of the module or a <span class="inlinecode">set</span>- or <span class="inlinecode">add</span>-method of a Java class.
			</p>
			<p>
			Components can be named to make them referable in subsequent assignments.
			Following the <span class="inlinecode"><span class="string">&apos;:&apos;</span></span> keyword, one can define an identifier for the 
			instantiated component. The identifier is locally visible in the module
			and any assignment that is defined after the named component can refer
			to this identifier and thereby exactly point to the instantiated object.
			</p>
			<p>
			The next option for a component is <span class="inlinecode"><span class="keyword">auto-inject</span></span>. If this modifier
			is set on a component, any available feature of the component that has
			the same name as a property or previously created named component will
			be automatically assigned.
			</p>
			<p>
			The core of a component is the list of assignments between the curly 
			braces. An arbitrary number of values can be set on the component by
			means of feature-to-value pairs. 
			</p>
			<p>
			<div class="image" >
			<a class="gallery" rel="prettyPhoto[all]" title="" href="images/mwe2/assignment.png">
				<img src="images/mwe2/assignment.png" 
					width="600px"
				/>
			</a>
			<div class="caption">
			</div>
			</div>
			</p>
			<p>
			The available constructs on the right hand side of the assignment
			are the same as for default values for properties. 
			</p>
			<a name="MWE2StringLiteralsSyntax" ></a>
			<h2>String Literals</h2>
			<p>
			String values are likely to be the most used literals in MWE2. There 
			is a convenient syntax for string concatenation available due to
			the high relevance in a descriptive object composition and configuration 
			language. MWE2 strings are multi-line strings and can be composed of
			several parts.
			</p>
			<p>
			<div class="literallayout">
				<div class="incode">
					<p class="code">
						<span class="keyword">var</span>&nbsp;aString&nbsp;=&nbsp;<span class="string">&apos;a&nbsp;value&apos;</span><br/>
						<span class="keyword">var</span>&nbsp;anotherString&nbsp;=&nbsp;<span class="string">&apos;It&nbsp;is&nbsp;possible&nbsp;to&nbsp;embed&nbsp;${aString}&nbsp;into<br/>
						&nbsp;a&nbsp;multi-line&nbsp;string&apos;</span>
					</p>
				</div>
			</div>
			</p>
			<p>
			This is especially convenient for path-substitution if one defines
			e.g. a common root directory and wants to specify other paths relative
			to the base. 
			</p>
			<p>
			There are two different delimiters available for strings. Users 
			are free to either use single- or double-quotes to start and end strings. 
			If a certain string contains a lot of single-quotes one would better
			choose double-quotes as delimiter and vice versa. There is no semantic 
			difference between both notations.
			</p>
			<p>
			The escape character in MWE2 is the back-slash <span class="inlinecode"><span class="string">"\\"</span></span>. It can be used
			to write line-breaks or tabular characters explicitly and to escape
			the beginning of substitution variables <span class="inlinecode">${</span> and the quotes itself. Allowed
			escape sequences are:
			</p>
			<p>
			<table>
			  <tr>
			    <td>\n</td>
			    <td>..</td>
			    <td>line break</td>
			  </tr>
			  <tr>
			    <td>\r</td>
			    <td>..</td>
			    <td>carriage return</td>
			  </tr>
			  <tr>
			    <td>\t</td>
			    <td>..</td>
			    <td>tabular character</td>
			  </tr>
			  <tr>
			    <td>\'</td>
			    <td>..</td>
			    <td>single-quote (can be omitted in double-quoted strings)</td>
			  </tr>
			  <tr>
			    <td>\&quot;</td>
			    <td>..</td>
			    <td>double-quote (can be omitted in single-quoted strings)</td>
			  </tr>
			  <tr>
			    <td>\${</td>
			    <td>..</td>
			    <td>escape the substitution variable start ${</td>
			  </tr>
			  <tr>
			    <td>\\ </td>
			    <td>..</td>
			    <td>the back-slash itself</td>
			  </tr>
			</table>
			</p>
			<p>
			Other escape sequence are illegal in MWE2 strings.
			</p>
			<a name="MWE2BooleanLiterals" ></a>
			<h2>Boolean Literals</h2>
			<p>
			MWE2 has native support for the boolean type. The literals are <span class="inlinecode"><span class="keyword">true</span></span> and <span class="inlinecode"><span class="keyword">false</span></span>.
			</p>
			<a name="MWE2References" ></a>
			<h2>References</h2>
			<p>
			Each assigned value in MWE2 either as default for properties or in a
			component assignment can be a reference to a previously declared property
			or named component. The can be referenced intuitively by their name.
			</p>
		<div id="disqus_thread"></div>
		<script type="text/javascript" src="documentationRoot.js"></script>
		<script type="text/javascript">
		    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		    var disqus_shortname = 'xtext'; // required: replace example with your forum shortname
		
		    // The following are highly recommended additional parameters. Remove the slashes in front to use.
		    var disqus_identifier = 'MWE2';
		    var disqus_url = documentationRoot+'118-mwe-in-depth.php';
		
		    /* * * DON'T EDIT BELOW THIS LINE * * */
		    (function() {
		        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
		        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		    })();
		</script>
 		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	</div>
	<br style="clear:both;height:1em;">
