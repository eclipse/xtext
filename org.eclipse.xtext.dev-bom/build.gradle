plugins {
    id 'java-platform'
}

group = 'org.eclipse.xtext'

dependencies {
    constraints {
        api "args4j:args4j:2.33"
        api "com.google.code.findbugs:jsr305:3.0.2"
        api "com.google.errorprone:error_prone_annotations:2.3.4"
        api "com.google.guava:guava-gwt:30.1-jre"
        api "com.google.guava:guava-testlib:30.1-jre"
        api "com.google.guava:guava:30.1-jre"
        api "com.google.inject:guice:3.0"
        api "io.github.classgraph:classgraph:4.8.35"
        api "javax.annotation:javax.annotation-api:1.3.2"
        api("junit:junit:4.12") {
            force = true
        }
        api "org.hamcrest:hamcrest-core:1.3"
        api "log4j:log4j:1.2.17"
        api "org.antlr:antlr-runtime:3.2"
        api "org.eclipse.emf:org.eclipse.emf.codegen.ecore:2.20.0"
        api "org.eclipse.emf:org.eclipse.emf.codegen:2.19.0"
        api "org.eclipse.emf:org.eclipse.emf.common:2.17.0"
        api "org.eclipse.emf:org.eclipse.emf.ecore.change:2.14.0"
        api "org.eclipse.emf:org.eclipse.emf.ecore.xmi:2.16.0"
        api "org.eclipse.emf:org.eclipse.emf.ecore:2.20.0"
        api "org.eclipse.emf:org.eclipse.emf.mwe.core:1.6.1"
        api "org.eclipse.emf:org.eclipse.emf.mwe.utils:1.6.1"
        api "org.eclipse.emf:org.eclipse.emf.mwe2.launch:2.12.1"
        api "org.eclipse.emf:org.eclipse.emf.mwe2.lib:2.12.1"
        api "org.eclipse.emf:org.eclipse.emf.mwe2.runtime:2.12.1"
        api "org.eclipse.jdt:org.eclipse.jdt.compiler.apt:1.3.1100"
        api "org.eclipse.jdt:org.eclipse.jdt.compiler.tool:1.2.1000"
        api "org.eclipse.jdt:org.eclipse.jdt.core:3.23.0"
        api "org.eclipse.jdt:org.eclipse.jdt.debug:3.16.0"
        api "org.eclipse.jdt:org.eclipse.jdt.launching:3.18.0"
        /*
        When adjusting the `lsp4j` version here, do not forget to do the following: 
        - Update the versions in the 
          `/org.eclipse.xtext.ide/META-INF/MANIFEST.MF` and 
          `/org.eclipse.xtext.ide.tests/META-INF/MANIFEST.MF` files.
        - Update Oomph releng/org.eclipse.xtext.contributor/Xtext.setup
        */
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.debug:0.12.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.generator:0.12.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.jsonrpc.debug:0.12.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.jsonrpc:0.12.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.websocket.jakarta:0.12.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j.websocket:0.12.0"
        api "org.eclipse.lsp4j:org.eclipse.lsp4j:0.12.0"
        api "org.eclipse.platform:org.eclipse.core.commands:3.9.700"
        api "org.eclipse.platform:org.eclipse.core.contenttype:3.7.800"
        api "org.eclipse.platform:org.eclipse.core.expressions:3.7.0"
        api "org.eclipse.platform:org.eclipse.core.filesystem:1.7.700"
        api "org.eclipse.platform:org.eclipse.core.jobs:3.10.800"
        api "org.eclipse.platform:org.eclipse.core.resources:3.13.800"
        api "org.eclipse.platform:org.eclipse.core.runtime:3.19.0"
        api "org.eclipse.platform:org.eclipse.core.variables:3.4.800"
        api "org.eclipse.platform:org.eclipse.debug.core:3.16.0"
        api "org.eclipse.platform:org.eclipse.equinox.app:1.5.0"
        api "org.eclipse.platform:org.eclipse.equinox.common:3.13.0"
        api "org.eclipse.platform:org.eclipse.equinox.preferences:3.8.0"
        api "org.eclipse.platform:org.eclipse.equinox.registry:3.9.0"
        api "org.eclipse.platform:org.eclipse.osgi:3.16.0"
        api "org.eclipse.platform:org.eclipse.text:3.10.300"
        api "org.eclipse.xpand:org.eclipse.xpand:2.0.0"
        api "org.eclipse.xpand:org.eclipse.xtend.typesystem.emf:2.0.0"
        api "org.eclipse.xpand:org.eclipse.xtend:2.0.0"
        api "org.eclipse.xtext:xtext-antlr-generator:2.1.1"
        api "org.junit.jupiter:junit-jupiter-api:5.7.1"
        api "org.junit.jupiter:junit-jupiter-engine:5.7.1"
        api "org.junit.platform:junit-platform-commons:1.7.1"
        api "org.junit.platform:junit-platform-engine:1.7.1"
        api "org.junit.platform:junit-platform-launcher:1.7.1"
        api "org.junit.platform:junit-platform-runner:1.7.1"
        api "org.junit.platform:junit-platform-suite-api:1.7.1"
        api "org.opentest4j:opentest4j:1.2.0"
        api "org.ow2.asm:asm-analysis:9.1"
        api "org.ow2.asm:asm-commons:9.1"
        api "org.ow2.asm:asm-tree:9.1"
        api "org.ow2.asm:asm:9.1"
    }
}

publishing {
    publications {
        LocalMavenRepo(MavenPublication) {
            from components.javaPlatform
            artifactId "xtext-dev-bom"
            pom {
                name = 'Eclipse Xtext Developer BOM'
                description = 'Xtext Third Party Dependencies (Bill of Materials)'
                url = 'https://www.eclipse.org/Xtext/'
                licenses {
                    license {
                        name = 'Eclipse Public License, Version 2.0'
                        url = 'http://www.eclipse.org/legal/epl-2.0'
                    }
                }
                scm {
                    connection = "scm:git:https://github.com/eclipse/${rootProject.name}.git"
                    developerConnection = "scm:git:https://github.com/eclipse/${rootProject.name}.git"
                    url = "git@github.com:eclipse/${rootProject.name}.git"
                }
                properties = [
                    "project.build.sourceEncoding": "ISO-8859-1"
                ]
            }
            apply from: "${rootDir}/gradle/developers.gradle", to: pom
        }
    }
    repositories {
        maven {
            // change to point to your repo, e.g. http://my.org/repo
            url = "$rootProject.buildDir/maven-repository"
        }
    }
}

